{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport { Grid, Button, Box, TextField, InputAdornment, Icon } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport KeyboardArrowLeftIcon from \"@material-ui/icons/KeyboardArrowLeft\";\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport Moment from \"react-moment\";\nimport jsCookie from \"js-cookie\";\nimport fetch from \"../public/js/nextFetch\";\nimport Main from \"../layouts/main\";\nimport Empty from \"../components/empty\"; // import \"../public/css/index.less\";\n\nexport default function Home(props) {\n  const {\n    0: postData,\n    1: setPostData\n  } = useState(props.lists);\n  const user = JSON.parse(jsCookie.get(\"userlogin\") || null);\n\n  const handleTag = async str => {\n    const res = await fetch(`post?type=${str}`);\n    setPostData(res.data);\n  };\n\n  const searchData = async () => {};\n\n  return __jsx(Main, null, __jsx(Grid, {\n    container: true,\n    spacing: 1\n  }, __jsx(Box, {\n    style: {\n      width: \"100%\"\n    },\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"baseline\",\n    marginTop: \"40px\"\n  }, __jsx(Box, {\n    m: 1\n  }, __jsx(Button, {\n    onClick: () => handleTag(\"0\")\n  }, \"\\u5168\\u90E8\"), __jsx(Button, {\n    onClick: () => handleTag(\"1\")\n  }, \"\\u77E5\\u8BC6\\u5206\\u4EAB\"), __jsx(Button, {\n    onClick: () => handleTag(\"2\")\n  }, \"\\u611F\\u609F\"), __jsx(Button, {\n    onClick: () => handleTag(\"3\")\n  }, \"\\u5176\\u5B83\"), user && __jsx(Button, {\n    onClick: () => handleTag(\"99\")\n  }, \"\\u8349\\u7A3F\")), __jsx(TextField, {\n    placeholder: \"\\u9AD8\\u7EA7\\u641C\\u7D22\",\n    id: \"standard-bare\",\n    margin: \"normal\",\n    InputProps: {\n      endAdornment: __jsx(InputAdornment, {\n        position: \"end\"\n      }, __jsx(SearchIcon, {\n        onClick: () => searchData,\n        color: \"disabled\",\n        cursor: \"pointer\"\n      }))\n    }\n  })), postData.length ? postData.map(item => __jsx(Grid, {\n    item: true,\n    xs: 12,\n    key: item.id\n  }, __jsx(\"div\", {\n    className: \"markdown-body article ar-item\"\n  }, __jsx(\"div\", {\n    className: \"flex-box title\"\n  }, __jsx(\"div\", null, __jsx(Moment, {\n    format: \"YYYY-MM-DD\"\n  }, item.createTime), __jsx(\"span\", {\n    className: \"tag\"\n  }, item.tagName)), __jsx(\"div\", null, user && __jsx(Button, {\n    size: \"small\",\n    href: \"/admin/editor?entry=article&postId=\" + item.id\n  }, \"\\u7F16\\u8F91\"), __jsx(Button, {\n    size: \"small\",\n    href: \"/post?id=\" + item.id\n  }, \"\\u67E5\\u770B\\u8BE6\\u60C5\"))), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: item.content\n    }\n  })))) : __jsx(Empty, null)), // 暂不公开\n  false && __jsx(Box, {\n    display: \"flex\",\n    marginBottom: \"60px\",\n    justifyContent: \"center\",\n    p: 1\n  }, __jsx(Button, {\n    variant: \"contained\",\n    startIcon: __jsx(KeyboardArrowLeftIcon, null),\n    style: {\n      marginRight: \"15px\"\n    }\n  }), __jsx(Button, {\n    variant: \"contained\",\n    endIcon: __jsx(KeyboardArrowRightIcon, null)\n  })));\n}\n\nHome.getInitialProps = async ({\n  query\n}) => {\n  const res = await fetch(\"post\");\n  return {\n    lists: res.data\n  };\n};","map":null,"metadata":{},"sourceType":"module"}