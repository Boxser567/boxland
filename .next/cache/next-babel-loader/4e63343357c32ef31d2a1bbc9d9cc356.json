{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/boxland/pages/admin/login.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport Router from \"next/router\";\nimport { Button, Input, Typography, TextField, InputAdornment } from \"@material-ui/core\";\nimport ArrowRightAltIcon from \"@material-ui/icons/ArrowRightAlt\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport jsCookie from \"js-cookie\";\nimport fetch from \"../../public/js/nextFetch\";\nimport Main from \"../../layouts/admin\";\nexport default function Login() {\n  const {\n    0: username,\n    1: setName\n  } = useState(null);\n  const {\n    0: password,\n    1: setPwd\n  } = useState(null);\n\n  const checkLogin = async () => {\n    if (!username || !password) {\n      alert(\"不能为空!\");\n      return;\n    }\n\n    const result = await fetch(`login?username=${username}&password=${password}`);\n\n    if (result.code === 200 && result.data.length) {\n      jsCookie.set(\"userlogin\", result.data[0], {\n        expires: 3\n      }); // 三天过期\n\n      Router.push({\n        pathname: \"/admin/index\"\n      });\n    } else {\n      alert(\"用户名或密码错误！\");\n    }\n  };\n\n  return __jsx(Main, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, __jsx(Typography, {\n    component: \"div\",\n    style: {\n      backgroundColor: \"rgb(19, 134, 226)\",\n      height: \"100vh\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      flexDirection: \"column\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\",\n    onChange: e => {\n      setName(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), __jsx(Input, {\n    type: \"password\",\n    onChange: e => {\n      setPwd(e.target.value);\n    },\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), __jsx(Button, {\n    onClick: checkLogin,\n    variant: \"contained\",\n    color: \"primary\",\n    style: {\n      marginTop: \"15px\",\n      width: \"100px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"\\u767B\\u5F55\"))));\n}","map":{"version":3,"sources":["/Users/admin/Desktop/boxland/pages/admin/login.js"],"names":["React","useState","Router","Button","Input","Typography","TextField","InputAdornment","ArrowRightAltIcon","AccountCircle","jsCookie","fetch","Main","Login","username","setName","password","setPwd","checkLogin","alert","result","code","data","length","set","expires","push","pathname","backgroundColor","height","display","justifyContent","alignItems","flexDirection","e","target","value","marginTop","width"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SACEC,MADF,EAEEC,KAFF,EAGEC,UAHF,EAIEC,SAJF,EAKEC,cALF,QAMO,mBANP;AAOA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AAEA,eAAe,SAASC,KAAT,GAAiB;AAC9B,QAAM;AAAA,OAACC,QAAD;AAAA,OAAWC;AAAX,MAAsBd,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM;AAAA,OAACe,QAAD;AAAA,OAAWC;AAAX,MAAqBhB,QAAQ,CAAC,IAAD,CAAnC;;AAEA,QAAMiB,UAAU,GAAG,YAAY;AAC7B,QAAI,CAACJ,QAAD,IAAa,CAACE,QAAlB,EAA4B;AAC1BG,MAAAA,KAAK,CAAC,OAAD,CAAL;AACA;AACD;;AACD,UAAMC,MAAM,GAAG,MAAMT,KAAK,CACvB,kBAAiBG,QAAS,aAAYE,QAAS,EADxB,CAA1B;;AAGA,QAAII,MAAM,CAACC,IAAP,KAAgB,GAAhB,IAAuBD,MAAM,CAACE,IAAP,CAAYC,MAAvC,EAA+C;AAC7Cb,MAAAA,QAAQ,CAACc,GAAT,CAAa,WAAb,EAA0BJ,MAAM,CAACE,IAAP,CAAY,CAAZ,CAA1B,EAA0C;AAAEG,QAAAA,OAAO,EAAE;AAAX,OAA1C,EAD6C,CACc;;AAC3DvB,MAAAA,MAAM,CAACwB,IAAP,CAAY;AACVC,QAAAA,QAAQ,EAAE;AADA,OAAZ;AAGD,KALD,MAKO;AACLR,MAAAA,KAAK,CAAC,WAAD,CAAL;AACD;AACF,GAhBD;;AAkBA,SACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AACE,IAAA,SAAS,EAAC,KADZ;AAEE,IAAA,KAAK,EAAE;AACLS,MAAAA,eAAe,EAAE,mBADZ;AAELC,MAAAA,MAAM,EAAE,OAFH;AAGLC,MAAAA,OAAO,EAAE,MAHJ;AAILC,MAAAA,cAAc,EAAE,QAJX;AAKLC,MAAAA,UAAU,EAAE,QALP;AAMLC,MAAAA,aAAa,EAAE;AANV,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWE,MAAC,KAAD;AACE,IAAA,WAAW,EAAC,sCADd;AAEE,IAAA,QAAQ,EAAEC,CAAC,IAAI;AACbnB,MAAAA,OAAO,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACD,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,EAiBE,MAAC,KAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,QAAQ,EAAEF,CAAC,IAAI;AACbjB,MAAAA,MAAM,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN;AACD,KAJH;AAKE,IAAA,WAAW,EAAC,gCALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBF,EAwBE,MAAC,MAAD;AACE,IAAA,OAAO,EAAElB,UADX;AAEE,IAAA,OAAO,EAAC,WAFV;AAGE,IAAA,KAAK,EAAC,SAHR;AAIE,IAAA,KAAK,EAAE;AAAEmB,MAAAA,SAAS,EAAE,MAAb;AAAqBC,MAAAA,KAAK,EAAE;AAA5B,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAxBF,CADF,CADF,CADF;AAuCD","sourcesContent":["import React, { useState } from \"react\";\nimport Router from \"next/router\";\nimport {\n  Button,\n  Input,\n  Typography,\n  TextField,\n  InputAdornment\n} from \"@material-ui/core\";\nimport ArrowRightAltIcon from \"@material-ui/icons/ArrowRightAlt\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport jsCookie from \"js-cookie\";\nimport fetch from \"../../public/js/nextFetch\";\nimport Main from \"../../layouts/admin\";\n\nexport default function Login() {\n  const [username, setName] = useState(null);\n  const [password, setPwd] = useState(null);\n\n  const checkLogin = async () => {\n    if (!username || !password) {\n      alert(\"不能为空!\");\n      return;\n    }\n    const result = await fetch(\n      `login?username=${username}&password=${password}`\n    );\n    if (result.code === 200 && result.data.length) {\n      jsCookie.set(\"userlogin\", result.data[0], { expires: 3 }); // 三天过期\n      Router.push({\n        pathname: \"/admin/index\"\n      });\n    } else {\n      alert(\"用户名或密码错误！\");\n    }\n  };\n\n  return (\n    <Main>\n      <div className=\"login\">\n        <Typography\n          component=\"div\"\n          style={{\n            backgroundColor: \"rgb(19, 134, 226)\",\n            height: \"100vh\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            flexDirection: \"column\"\n          }}\n        >\n          <Input\n            placeholder=\"请输入用户名\"\n            onChange={e => {\n              setName(e.target.value);\n            }}\n          />\n          <Input\n            type=\"password\"\n            onChange={e => {\n              setPwd(e.target.value);\n            }}\n            placeholder=\"请输入密码\"\n          />\n          <Button\n            onClick={checkLogin}\n            variant=\"contained\"\n            color=\"primary\"\n            style={{ marginTop: \"15px\", width: \"100px\" }}\n          >\n            登录\n          </Button>\n        </Typography>\n      </div>\n    </Main>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}