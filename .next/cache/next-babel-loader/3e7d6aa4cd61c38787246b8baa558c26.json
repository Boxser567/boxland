{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/admin/Desktop/boxland/pages/admin/login.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport Router from \"next/router\";\nimport { Button, Input, Typography, TextField, InputAdornment } from \"@material-ui/core\";\nimport ArrowRightAltIcon from \"@material-ui/icons/ArrowRightAlt\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport jsCookie from \"js-cookie\";\nimport fetch from \"../../public/js/nextFetch\";\nimport Main from \"../../layouts/admin\";\nexport default function Login() {\n  var _useState = useState(null),\n      username = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(null),\n      password = _useState2[0],\n      setPwd = _useState2[1];\n\n  var checkLogin =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(!username || !password)) {\n                _context.next = 3;\n                break;\n              }\n\n              alert(\"不能为空!\");\n              return _context.abrupt(\"return\");\n\n            case 3:\n              _context.next = 5;\n              return fetch(\"login?username=\".concat(username, \"&password=\").concat(password));\n\n            case 5:\n              result = _context.sent;\n\n              if (result.code === 200 && result.data.length) {\n                jsCookie.set(\"userlogin\", result.data[0], {\n                  expires: 3\n                }); // 三天过期\n\n                Router.push({\n                  pathname: \"/admin/index\"\n                });\n              } else {\n                alert(\"用户名或密码错误！\");\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function checkLogin() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Main, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, __jsx(Typography, {\n    component: \"div\",\n    style: {\n      backgroundColor: \"rgb(19, 134, 226)\",\n      height: \"100vh\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      flexDirection: \"column\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\",\n    onChange: function onChange(e) {\n      setName(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), __jsx(Input, {\n    type: \"password\",\n    onChange: function onChange(e) {\n      setPwd(e.target.value);\n    },\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), __jsx(Button, {\n    onClick: checkLogin,\n    variant: \"contained\",\n    color: \"primary\",\n    style: {\n      marginTop: \"15px\",\n      width: \"100px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"\\u767B\\u5F55\"))));\n}","map":{"version":3,"sources":["/Users/admin/Desktop/boxland/pages/admin/login.js"],"names":["React","useState","Router","Button","Input","Typography","TextField","InputAdornment","ArrowRightAltIcon","AccountCircle","jsCookie","fetch","Main","Login","username","setName","password","setPwd","checkLogin","alert","result","code","data","length","set","expires","push","pathname","backgroundColor","height","display","justifyContent","alignItems","flexDirection","e","target","value","marginTop","width"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Router from \"next/router\";\nimport {\n  Button,\n  Input,\n  Typography,\n  TextField,\n  InputAdornment\n} from \"@material-ui/core\";\nimport ArrowRightAltIcon from \"@material-ui/icons/ArrowRightAlt\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport jsCookie from \"js-cookie\";\nimport fetch from \"../../public/js/nextFetch\";\nimport Main from \"../../layouts/admin\";\n\nexport default function Login() {\n  const [username, setName] = useState(null);\n  const [password, setPwd] = useState(null);\n\n  const checkLogin = async () => {\n    if (!username || !password) {\n      alert(\"不能为空!\");\n      return;\n    }\n    const result = await fetch(\n      `login?username=${username}&password=${password}`\n    );\n    if (result.code === 200 && result.data.length) {\n      jsCookie.set(\"userlogin\", result.data[0], { expires: 3 }); // 三天过期\n      Router.push({\n        pathname: \"/admin/index\"\n      });\n    } else {\n      alert(\"用户名或密码错误！\");\n    }\n  };\n\n  return (\n    <Main>\n      <div className=\"login\">\n        <Typography\n          component=\"div\"\n          style={{\n            backgroundColor: \"rgb(19, 134, 226)\",\n            height: \"100vh\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            flexDirection: \"column\"\n          }}\n        >\n          <Input\n            placeholder=\"请输入用户名\"\n            onChange={e => {\n              setName(e.target.value);\n            }}\n          />\n          <Input\n            type=\"password\"\n            onChange={e => {\n              setPwd(e.target.value);\n            }}\n            placeholder=\"请输入密码\"\n          />\n          <Button\n            onClick={checkLogin}\n            variant=\"contained\"\n            color=\"primary\"\n            style={{ marginTop: \"15px\", width: \"100px\" }}\n          >\n            登录\n          </Button>\n        </Typography>\n      </div>\n    </Main>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}