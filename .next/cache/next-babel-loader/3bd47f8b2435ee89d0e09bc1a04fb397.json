{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/admin/Desktop/boxland/pages/about.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Router from \"next/router\";\nimport Moment from \"react-moment\";\nimport jsCookie from \"js-cookie\";\nimport Main from \"../layouts/main\";\nimport fetch from \"../public/js/nextFetch\";\nimport \"braft-editor/dist/output.css\";\nexport default function About(props) {\n  var invalid = props.invalid,\n      userlogin = props.userlogin,\n      uid = props.uid;\n\n  var _useState = useState(null),\n      content = _useState[0],\n      setContent = _useState[1];\n\n  useEffect(function () {\n    if (invalid && !userlogin) {\n      Router.push({\n        pathname: \"/invitation\"\n      });\n    } else {\n      fetchUserCV(uid || userlogin.id);\n    }\n  }, [uid]);\n\n  function fetchUserCV(_x) {\n    return _fetchUserCV.apply(this, arguments);\n  }\n\n  function _fetchUserCV() {\n    _fetchUserCV = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(id) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"user_CV?userId=\" + id);\n\n            case 2:\n              res = _context.sent;\n              setContent(res.data[0][\"content\"]);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchUserCV.apply(this, arguments);\n  }\n\n  return __jsx(Main, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, __jsx(\"article\", {\n    className: \"personal-msg braft-output-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: content\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }))));\n}\n\nAbout.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(_ref) {\n    var query, thisProps;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            query = _ref.query;\n            thisProps = query;\n\n            if (!query.code || !query.uid) {\n              thisProps.invalid = true;\n            }\n\n            thisProps.userlogin = JSON.parse(jsCookie.get(\"userlogin\") || null);\n            return _context2.abrupt(\"return\", thisProps);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/Users/admin/Desktop/boxland/pages/about.js"],"names":["React","useState","useEffect","Router","Moment","jsCookie","Main","fetch","About","props","invalid","userlogin","uid","content","setContent","push","pathname","fetchUserCV","id","res","data","__html","getInitialProps","query","thisProps","code","JSON","parse","get"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAO,8BAAP;AAEA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAAA,MAC3BC,OAD2B,GACCD,KADD,CAC3BC,OAD2B;AAAA,MAClBC,SADkB,GACCF,KADD,CAClBE,SADkB;AAAA,MACPC,GADO,GACCH,KADD,CACPG,GADO;;AAAA,kBAELX,QAAQ,CAAC,IAAD,CAFH;AAAA,MAE5BY,OAF4B;AAAA,MAEnBC,UAFmB;;AAInCZ,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIQ,OAAO,IAAI,CAACC,SAAhB,EAA2B;AACzBR,MAAAA,MAAM,CAACY,IAAP,CAAY;AACVC,QAAAA,QAAQ,EAAE;AADA,OAAZ;AAGD,KAJD,MAIO;AACLC,MAAAA,WAAW,CAACL,GAAG,IAAID,SAAS,CAACO,EAAlB,CAAX;AACD;AACF,GARQ,EAQN,CAACN,GAAD,CARM,CAAT;;AAJmC,WAcpBK,WAdoB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,6BAcnC,iBAA2BC,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACoBX,KAAK,CAAC,oBAAoBW,EAArB,CADzB;;AAAA;AACQC,cAAAA,GADR;AAEEL,cAAAA,UAAU,CAACK,GAAG,CAACC,IAAJ,CAAS,CAAT,EAAY,SAAZ,CAAD,CAAV;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAdmC;AAAA;AAAA;;AAmBnC,SACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAS,IAAA,SAAS,EAAC,mCAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,uBAAuB,EAAE;AAAEC,MAAAA,MAAM,EAAER;AAAV,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,CADF;AASD;;AAEDL,KAAK,CAACc,eAAN;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,KAAT,QAASA,KAAT;AAClBC,YAAAA,SADkB,GACND,KADM;;AAEtB,gBAAI,CAACA,KAAK,CAACE,IAAP,IAAe,CAACF,KAAK,CAACX,GAA1B,EAA+B;AAC7BY,cAAAA,SAAS,CAACd,OAAV,GAAoB,IAApB;AACD;;AACDc,YAAAA,SAAS,CAACb,SAAV,GAAsBe,IAAI,CAACC,KAAL,CAAWtB,QAAQ,CAACuB,GAAT,CAAa,WAAb,KAA6B,IAAxC,CAAtB;AALsB,8CAMfJ,SANe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Router from \"next/router\";\nimport Moment from \"react-moment\";\nimport jsCookie from \"js-cookie\";\nimport Main from \"../layouts/main\";\nimport fetch from \"../public/js/nextFetch\";\nimport \"braft-editor/dist/output.css\";\n\nexport default function About(props) {\n  const { invalid, userlogin, uid } = props;\n  const [content, setContent] = useState(null);\n\n  useEffect(() => {\n    if (invalid && !userlogin) {\n      Router.push({\n        pathname: \"/invitation\"\n      });\n    } else {\n      fetchUserCV(uid || userlogin.id);\n    }\n  }, [uid]);\n\n  async function fetchUserCV(id) {\n    const res = await fetch(\"user_CV?userId=\" + id);\n    setContent(res.data[0][\"content\"]);\n  }\n\n  return (\n    <Main>\n      <div className=\"container\">\n        <article className=\"personal-msg braft-output-content\">\n          <div dangerouslySetInnerHTML={{ __html: content }}></div>\n        </article>\n      </div>\n    </Main>\n  );\n}\n\nAbout.getInitialProps = async ({ query }) => {\n  let thisProps = query;\n  if (!query.code || !query.uid) {\n    thisProps.invalid = true;\n  }\n  thisProps.userlogin = JSON.parse(jsCookie.get(\"userlogin\") || null);\n  return thisProps;\n};\n"]},"metadata":{},"sourceType":"module"}