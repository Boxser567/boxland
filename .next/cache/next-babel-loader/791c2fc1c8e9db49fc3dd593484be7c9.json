{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Router from \"next/router\";\nimport Moment from \"react-moment\";\nimport jsCookie from \"js-cookie\";\nimport Main from \"../layouts/main\";\nimport fetch from \"../public/js/nextFetch\";\nimport \"braft-editor/dist/output.css\";\nexport default function About(props) {\n  var invalid = props.invalid,\n      userlogin = props.userlogin,\n      uid = props.uid;\n\n  var _useState = useState(null),\n      content = _useState[0],\n      setContent = _useState[1];\n\n  useEffect(function () {\n    if (invalid && !userlogin) {\n      Router.push({\n        pathname: \"/invitation\"\n      });\n    } else {\n      fetchUserCV(uid || userlogin.id);\n    }\n  }, [uid]);\n\n  function fetchUserCV(_x) {\n    return _fetchUserCV.apply(this, arguments);\n  }\n\n  function _fetchUserCV() {\n    _fetchUserCV = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(id) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"user_CV?userId=\" + id);\n\n            case 2:\n              res = _context.sent;\n              setContent(res.data[0][\"content\"]);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchUserCV.apply(this, arguments);\n  }\n\n  return __jsx(Main, null, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"article\", {\n    className: \"personal-msg braft-output-content\"\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: content\n    }\n  }))));\n}\n\nAbout.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(_ref) {\n    var query, thisProps;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            query = _ref.query;\n            thisProps = query;\n\n            if (!query.code || !query.uid) {\n              thisProps.invalid = true;\n            }\n\n            thisProps.userlogin = JSON.parse(jsCookie.get(\"userlogin\") || null);\n            return _context2.abrupt(\"return\", thisProps);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":null,"metadata":{},"sourceType":"module"}